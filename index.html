<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Sabor do Caldo - Cardápio Digital</title>

<style>
*{box-sizing:border-box}
body{
  font-family:Arial,sans-serif;
  margin:0;
  padding-bottom:80px;
  background:#fff;
}
:root{
  --vermelho:#C62828;
  --verde:#2E7D32;
}
header{
  background:var(--vermelho);
  color:#fff;
  padding:15px;
  text-align:center;
}
.tabs{
  display:flex;
  overflow-x:auto;
  border-bottom:2px solid var(--vermelho);
}
.tabs button{
  flex:1;
  padding:12px;
  border:none;
  background:#fff;
  color:var(--vermelho);
  font-weight:bold;
}
.tabs button.active{
  background:var(--vermelho);
  color:#fff;
}
.tab-content{display:none;padding:10px}
.tab-content.active{display:block}
.item{
  border-bottom:1px solid #ddd;
  padding:10px 0;
}
.item h3{margin:0}
.item p{margin:4px 0;font-size:14px}
.controls{
  display:flex;
  gap:6px;
  align-items:center;
}
.controls button{
  padding:6px 10px;
}
.footer{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  padding:10px;
  background:#fff;
  border-top:2px solid var(--vermelho);
}
.cart-btn{
  width:100%;
  padding:14px;
  background:var(--verde);
  color:#fff;
  border:none;
  font-size:16px;
  font-weight:bold;
}
.section{padding:10px}
.cart-item{
  display:flex;
  justify-content:space-between;
  font-size:14px;
}
@media print{
  body{width:58mm}
  .tabs,.footer,.no-print{display:none}
}
</style>
</head>

<body>

<header>
  <h2>Sabor do Caldo</h2>
</header>

<div class="tabs">
  <button class="active" onclick="openTab('caldos',this)">Caldos</button>
  <button onclick="openTab('lanches',this)">Lanches</button>
  <button onclick="openTab('batata',this)">Batata</button>
  <button onclick="openTab('combo',this)">Combo</button>
  <button onclick="openTab('bebidas',this)">Bebidas</button>
</div>

<!-- ITENS -->
<div id="caldos" class="tab-content active"></div>
<div id="lanches" class="tab-content"></div>
<div id="batata" class="tab-content"></div>
<div id="combo" class="tab-content"></div>
<div id="bebidas" class="tab-content"></div>

<!-- CARRINHO -->
<div id="cart" class="section" style="display:none">
  <h3>Carrinho</h3>
  <div id="cartItems"></div>
  <p><strong>Taxa:</strong> R$ 6,00</p>
  <p><strong>Total:</strong> R$ <span id="total">0.00</span></p>
  <button onclick="mostrarCheckout()">Finalizar Pedido</button>
</div>

<!-- CHECKOUT -->
<div id="checkout" class="section" style="display:none">
  <h3>Dados do Cliente</h3>
  <input id="nome" placeholder="Nome"><br>
  <input id="endereco" placeholder="Endereço"><br>
  <input id="telefone" placeholder="Telefone"><br>
  <h3>Pagamento</h3>
  <label><input type="radio" name="pag"> Dinheiro</label><br>
  <label><input type="radio" name="pag"> Pix</label><br>
  <label><input type="radio" name="pag"> Cartão</label><br><br>
  <button onclick="mostrarResumo()">Avançar</button>
</div>

<!-- RESUMO -->
<div id="resumo" class="section" style="display:none">
  <h3>Pedido</h3>
  <div id="nota"></div>
  <button onclick="enviarWhats()">Enviar WhatsApp</button>
  <button onclick="window.print()">Imprimir</button>
</div>

<div class="footer no-print">
  <button class="cart-btn" onclick="toggleCart()">Carrinho</button>
</div>

<script>
let pedido=1;
let carrinho=[];
const taxa=6;

const itens=[
  {aba:'caldos',nome:'Caldo de Feijão',desc:'Caldo quente tradicional',preco:12},
  {aba:'lanches',nome:'X-Burger',desc:'Hambúrguer simples',preco:15},
  {aba:'batata',nome:'Batata Frita',desc:'Porção média',preco:10},
  {aba:'combo',nome:'Combo Burger',desc:'Lanche + batata',preco:22},
  {aba:'bebidas',nome:'Refrigerante',desc:'Lata 350ml',preco:6}
];

itens.forEach(i=>{
  const div=document.createElement('div');
  div.className='item';
  div.innerHTML=`
    <h3>${i.nome}</h3>
    <p>${i.desc}</p>
    <p><strong>R$ ${i.preco.toFixed(2)}</strong></p>
    <div class="controls">
      <button onclick="add('${i.nome}',${i.preco})">Adicionar ao carrinho</button>
    </div>`;
  document.getElementById(i.aba).appendChild(div);
});

function openTab(id,btn){
  document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.tabs button').forEach(b=>b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  btn.classList.add('active');
}

function add(nome,preco){
  carrinho.push({nome,preco});
  renderCart();
}

function toggleCart(){
  document.getElementById('cart').style.display='block';
}

function renderCart(){
  const c=document.getElementById('cartItems');
  c.innerHTML='';
  let total=0;
  carrinho.forEach((i,idx)=>{
    total+=i.preco;
    c.innerHTML+=`
      <div class="cart-item">
        <span>${i.nome}</span>
        <span>
          R$ ${i.preco.toFixed(2)}
          <button onclick="remover(${idx})">X</button>
        </span>
      </div>`;
  });
  total+=taxa;
  document.getElementById('total').innerText=total.toFixed(2);
}

function remover(i){
  carrinho.splice(i,1);
  renderCart();
}

function mostrarCheckout(){
  document.getElementById('checkout').style.display='block';
}

function mostrarResumo(){
  const data=new Date();
  let html=`<p><strong>Sabor do Caldo</strong></p>
  <p>Pedido Nº ${pedido++}</p>
  <p>${data.toLocaleDateString()} ${data.toLocaleTimeString()}</p>
  <p>${nome.value}</p><hr>`;
  carrinho.forEach(i=>{
    html+=`${i.nome} - R$ ${i.preco.toFixed(2)}<br>`;
  });
  html+=`<hr>Taxa: R$ 6,00<br><strong>Total: R$ ${document.getElementById('total').innerText}</strong><br><br>Obrigado pelo pedido!`;
  document.getElementById('nota').innerHTML=html;
  document.getElementById('resumo').style.display='block';
}

function enviarWhats(){
  const txt=document.getElementById('nota').innerText;
  window.open(`https://wa.me/5535999711358?text=${encodeURIComponent(txt)}`);
}
</script>

</body>
</html>
